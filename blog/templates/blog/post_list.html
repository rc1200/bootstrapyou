{% extends 'blog/base.html' %}
{% load markdownify %}

{% block content %}
{% for post in posts %}
<div class="post" id="post">


    <h1><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h1>
    <div class="date">
        <p>Published: {{ post.published_date }}</p>
    </div>
    <a href="{% url 'post_detail' pk=post.pk %}">{{ post.approved_comments.count }} comment{{ post.approved_comments.count|pluralize }}</a>

    <!--
    <p>{{ post.text| markdown | safe | linebreaksbr | truncatechars:300 }}</p>
    -->
    <p>{{ post.content | safe | truncatechars:300 | linebreaksbr }}</p>

    <!--for some reason certin formatting seems to spill over to the other comment, this seems to force it to stop-->
    <span class="xxx"></span>
</div>
{% endfor %}
{% endblock %}